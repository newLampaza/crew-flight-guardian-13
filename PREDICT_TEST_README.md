
# Тестирование системы анализа усталости

## Быстрый запуск тестирования

### 1. Простой способ
```bash
python run_predict_test.py
```

### 2. Прямой запуск
```bash
python neural_network/predict.py --mode test
```

## Возможности тестирования

### Интерактивный тест (рекомендуется)
- Показывает изображение с камеры в реальном времени
- Выделяет обнаруженные лица зелеными/красными рамками
- Отображает текущий уровень усталости
- Показывает статистику обнаружения лиц
- Отображает FPS и количество обработанных кадров

### Управление в тесте
- `q` - выйти из теста
- `s` - сохранить скриншот текущего кадра

### Информационная панель
В нижней части экрана отображается:
- **Fatigue Score**: текущий уровень усталости (0.0-1.0)
- **Detection Rate**: процент кадров с обнаруженными лицами
- **FPS**: количество кадров в секунду
- **Frames/Faces**: общее количество кадров и кадров с лицами
- **Status**: состояние системы (GOOD/DETECTING.../NO FACE)

## Другие режимы

### Анализ видеофайла
```bash
python neural_network/predict.py --mode video --input path/to/video.mp4 --output analyzed_video.mp4
```

### Простая камера (без интерфейса)
```bash
python neural_network/predict.py --mode realtime
```

## Требования для успешного тестирования

1. **Освещение**: хорошее освещение лица
2. **Позиция**: лицо по центру кадра
3. **Расстояние**: 50-100 см от камеры
4. **Стабильность**: не закрывайте лицо руками

## Логирование

Система создает подробные логи:
- `neural_network_analysis.log` - логи нейросети и обработки
- `fatigue_analysis.log` - логи веб-API (если используется через сайт)

## Устранение проблем

### Камера не найдена
- Убедитесь, что камера подключена
- Закройте другие приложения, использующие камеру
- Попробуйте перезапустить скрипт

### Модель не найдена
- Проверьте наличие файла `neural_network/data/models/fatigue_model.keras`
- Убедитесь, что путь к модели правильный

### Низкая частота обнаружения лиц
- Улучшите освещение
- Расположите лицо по центру кадра
- Приблизьтесь к камере

### Медленная работа
- Закройте другие ресурсоемкие приложения
- Убедитесь, что используется GPU (если доступно)

## Интерпретация результатов

### Уровни усталости
- **Low** (0.0-0.3): низкий уровень усталости
- **Medium** (0.3-0.7): средний уровень усталости  
- **High** (0.7-1.0): высокий уровень усталости

### Статус системы
- **GOOD**: лица обнаруживаются стабильно (>50% кадров)
- **DETECTING...**: лица обнаруживаются, но нестабильно
- **NO FACE**: лица не обнаруживаются

## Сохранение результатов

- Скриншоты сохраняются в корневую папку проекта
- Логи сохраняются автоматически
- Финальная статистика выводится в консоль при завершении
